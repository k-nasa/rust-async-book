# Re: ゼロから始める非同期処理の話 (仮)

## タイトル案

- Re: ゼロから始める非同期プログラミングの話 (仮)
- Rust で学ぶ非同期処理ランタイム
- エモい Rust. エモい非同期処理.

## 思考整理 (悩んだらここに立ち返る)

### 誰向けの本か？

- 非同期処理とはなんぞや？という人
- 非同期処理は知ってるけど仕組みまでは知らない人
- 非同期処理のランタイムを読めるようになりたい人
- 非同期処理のランタイムを自作してみたい人

### 前提レベル

前提知識として次のものが必要になると思います。

- プログラミングの基礎的な知識
- Rust のコードが読める方
- Rust をはじめて読むけど、雰囲気は掴めるだろうという自信のある方

### この本を読むと、読者はどのような状態になっているか

- 自分ならではの非同期処理ランタイムを自作できるようになっている
- 非同期コードがどのような仕組みで動いているかの雰囲気がつかめる

## 目次

0. 初めに
1. 非同期処理とは
1. ランタイムを読んでみよう
1. ランタイムを実装してみよう
1. まとめ、最後に

## 目次 (内容まで深ぼって考えた ver)

### 初めに

- あいさつ
  - 軽い自己紹介
  - 手にとってくれたお礼
- 本書の読者
  - 誰向けの本か?
  - 前提とする知識は?
- 本書の特徴
  - 本書の説明
    - Rust の非同期処理ランタイムを実際に見ていくことでより非同期処理への理解を深める
    - 実装をすることでもっともっと深める
  - 各章の説明
- 本書のゴール(読者をどのレベルまで到達させるか)
- コード例について -> 要らないかも
- 問い合わせ先
  - Twitter リンクを適当に貼る
  - メールもはる？
- 謝辞
  - 技術レビューを誰かに頼みたいと思っている。なのでその人に対する謝辞
  - サークルメンバーに対する謝辞

### 非同期プログラミングとは

- そもそも非同期処理とは？
  - 非同期プログラミングとは？
    - 非同期プログラミングとは， 複数のタスクを並行的に実行するための技法のひとつです
  - Rust を用いた非同期プログラミングの例コード
    - 適当なコード例を載せる
      - https://async-book-ja.netlify.com/01_getting_started/04_async_await_primer.html
    - async/await の簡単な説明
- なぜ非同期プログラミングが必要なのか？
  - c10k 問題
    - 1 つのタスクに１つのスレッド、プロセスを割り当てるのには限界が来た
      - スレッド数、プロセス数を固定したままより多くの処理を捌く必要が出た。
- 同期処理と非同期処理、並列処理はどう違うのか？
  - 非同期プログラミングは並行処理の技法の一つである。
  - 並行性はコードの性質、並列性は動作しているランタイムの性質
    - 並列に動作しそうなコードを書いたとき何が起こるか
      - 並列に走るのだろうか？という問いかけ
      - CPU が 1 コアだった場合何が起こるか？という問いかけ
      - 実際には２つの処理を素早く切り替えながら逐次実行している
      - CPU2 コアの場合は？ -> 実際に並列に動作する
- おさらい
- コラム。なぜ Rust なのか？

### ランタイムを読んでみよう

- ランタイムがしていることって何だっけ？
  - `task::spawn`とやるだけで、スケジューリングが完了している
  - 並列に動作して欲しいと思って書いた非同期コードを並列に動作させてくれている
    - オペレーティングシステムや動作しているプラットフォーム、CPU などを意識せずに書ける
- 全体像、登場する主要コンポーネントの確認
- 非同期タスクが spawn する様子を見ていこう
- スケジューラーの動作を見ていこう
- 残りは未定 -> **調査が足りていないため**

### ランタイムを実装してみよう -> WIP

1. どんなランタイムを作るか
2. 非同期タスクを実装しよう
3. スケジューラーを実装する

### まとめ、最後に

1. あいさつ

- 最後まで読んでくれたことへの感謝
- 最後のページをチラ見しているのか？というジョーク
